# ============================================
# ZETWA BACKEND - ENVIRONMENT CONFIGURATION
# ============================================
# Copy this file to .env and fill in the values

# ============================================
# SERVER CONFIGURATION
# ============================================
NODE_ENV=development
PORT=3001
HOST=0.0.0.0

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:5173

# ============================================
# DATABASE CONFIGURATION
# ============================================
# Replace with your actual database credentials
DATABASE_URL=postgresql://username:password@localhost:5432/zetwa_db

# ============================================
# REDIS CONFIGURATION (for session & caching)
# ============================================
REDIS_URL=redis://localhost:6379

# ============================================
# JWT CONFIGURATION
# ============================================
# Generate with: openssl rand -base64 64
JWT_ACCESS_SECRET=your-super-secret-access-key-change-in-production-min-32-chars
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production-min-32-chars
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ============================================
# API KEY CONFIGURATION
# ============================================
API_KEY_PREFIX=zetwa_

# ============================================
# WHATSAPP CONFIGURATION
# ============================================
# Path to store WhatsApp session data
WA_SESSION_PATH=./wa-sessions
# Puppeteer executable path (optional, leave empty to use bundled)
PUPPETEER_EXECUTABLE_PATH=
# Enable headless mode
WA_HEADLESS=true
# Max QR code regenerations before giving up (prevents resource waste from abandoned sessions)
# Each QR is valid for ~20 seconds, so 5 retries = ~100 seconds total
WA_QR_MAX_RETRIES=5
# Auth timeout in milliseconds (default: 2 minutes)
# If user doesn't complete auth within this time, session is cleaned up
WA_AUTH_TIMEOUT_MS=120000

# ============================================
# WEBHOOK CONFIGURATION
# ============================================
WEBHOOK_TIMEOUT=30000
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_RETRY_DELAY=5000

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=info

# ============================================
# FILE UPLOAD
# ============================================
MAX_FILE_SIZE=16777216
UPLOAD_PATH=./uploads
